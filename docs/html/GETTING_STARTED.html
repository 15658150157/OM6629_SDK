<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>User Guide: Getting Started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/
<a href="https://github.com/jothepro/doxygen-awesome-css" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
-->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">User Guide
   </div>
   <div id="projectbrief">Bluetooth Low Energy 5.4</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('GETTING_STARTED.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Getting Started </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_doxygen_source_getting_started"></a></p>
<h1><a class="anchor" id="autotoc_md10"></a>
Prerequisites</h1>
<p>The following software and hardware will be needed during the development:</p>
<ol type="1">
<li>Choose one of the following development software:<ul>
<li>(<b>RECOMMENDED</b>) Keil MDK-ARM Lite V5.36 or later. <a href="https://www.keil.com/demo/eval/arm.htm">Here</a> is official download address.</li>
<li>GCC(arm-none-eabi-gcc), GDB(arm-none-eabi-gdb). <a href="https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm/downloads">Here</a> is official download address.</li>
<li>IAR Embedded Workbench for ARM V9.20 or later. <a href="https://www.iar.com/products/architectures/arm/iar-embedded-workbench-for-arm/">Here</a> is official download page.</li>
</ul>
</li>
<li>J-Link Software v7.58 or later. <a href="https://www.segger.com/downloads/jlink">Here</a> is official download address.</li>
<li>SDK</li>
<li>EVB Kit</li>
</ol>
<dl class="section note"><dt>Note</dt><dd>This SDK may contain Kconfig and SConscript/SConstruct, don't care about them, they are only used as the chip factory developing.</dd></dl>
<h2><a class="anchor" id="autotoc_md11"></a>
Keil</h2>
<p>All applications in the SDK can be compiled and used with Keil Microcontroller Development Kit(MDK). So before starting software development, Keil should be obtained and installed correctly by users themselves, please visit www.keil.com for more information.</p>
<p>Tool chain version as below is used by Onmicro, and this version or higher is suggested to be used to avoid any compatible issue between the ROM executable programs and user applications.</p>
<div class="image">
<img src="Keil.png" alt=""/>
<div class="caption">
Keil Version</div></div>
    <h2><a class="anchor" id="autotoc_md12"></a>
IAR</h2>
<p>All applications in the SDK can be compiled and used with IAR Embedded Workbench IDE.</p>
<p>Tool chain version as below is used by Onmicro, and this version or higher is suggested to be used to avoid any compatible issue between the ROM executable programs and user applications.</p>
<div class="image">
<img src="iar.png" alt=""/>
<div class="caption">
IAR Version</div></div>
    <h2><a class="anchor" id="autotoc_md13"></a>
J-Link</h2>
<p>J-Link is another prerequisite if more comprehensive debug method is desired besides the logging mechanism. For installing the SEGGER J-Link software, visit www.segger.com to download related software and documentation.</p>
<p>The driver should be correctly installed for the device to use the J-Link debugger with Keil MDK.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
SDK</h2>
<p>The SDK includes sample projects, documentation, and essential tools.</p>
<h2><a class="anchor" id="autotoc_md15"></a>
EVB Kit</h2>
<p>The EVB is designed to contain necessary hardware to evaluate, develop and debug user applications for this chip.</p>
<h1><a class="anchor" id="autotoc_md16"></a>
Environment Setup</h1>
<p>The relationship between the hardware part and software component show as follow. The application developed with Keil could be downloaded into EVB via J-Link, and debug via SWD interface.</p>
<div class="image">
<img src="Environment.jpg" alt=""/>
<div class="caption">
Environment</div></div>
    <h1><a class="anchor" id="autotoc_md17"></a>
Install SDK</h1>
<p>The compressed SDK package can be got from FAE and the Keil plugin should be installed. All code examples included in the SDK are tailored to compile for and run on EVT Kit.</p>
<h1><a class="anchor" id="autotoc_md18"></a>
Develop</h1>
<p>There are many examples in the directory "projects/".</p>
<h2><a class="anchor" id="autotoc_md19"></a>
Develop with KEIL</h2>
<ul>
<li>Install the this chip device support pack: <code>tools/plugins/keil/pack/Onmicro.OM6627X.1.0.0.pack</code>.</li>
<li>Use KEIL to open one demo project, such as: <code>projects/ble_app_simple/keil5/ble_app_simple.uvprojx</code>.</li>
<li>Compile the project.</li>
<li>Confirm that the jlink connection is OK.</li>
<li>Debug application. User can use all Keil debug function to debug the application, such as breakpoint, memory window, single step, and so on.</li>
<li>Download application to flash.</li>
<li>Reset chip to run the application.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Once the chip goes to sleep, the chip's CPU and SWD will be powered down, which will cause jlink to disconnect.</li>
<li>If a dialog <code>The selected device "OM6627X" is unknown to this version of the J-Link software</code> occur when download or debug, copy <code>tools/plugins/keil/pack/JLinkDevices.xml</code> to <code>$KEIL_INSTALL_DIR/ARM/Segger/</code> or just select "Cortex-M4", and download again.</li>
<li>Switch chip: In keil Project-&gt;Options for Target'ble_app_simple'-&gt;C/C++(AC6) Defined modified to the target chip, so it is same with Asm Page. default OM6627X=1. If target is OM6629X, please change OM6627X=1 to OM6629X=1.</li>
</ul>
</dd></dl>
<h2><a class="anchor" id="autotoc_md20"></a>
Develop with IAR</h2>
<ul>
<li>Install the this chip device support: copy all files of <code>tools/plugins/iar/*</code> to <code>$IAR_INSTALL_DIR/arm/</code> (for example <code>C:\Program Files\IAR Systems\Embedded Workbench 9.0\arm</code> in Windows), and replace folders and files with the same name.</li>
<li>Use IAR to open one demo project, such as: <code>projects/ble_app_simple/iar/ble_app_simple.eww</code>.</li>
<li>Compile the project.</li>
<li>Confirm that the jlink connection is OK.</li>
<li>Debug application. User can use all IAR debug function to debug the application, such as breakpoint, memory window, single step, and so on.</li>
<li>Download application to flash.</li>
<li>Reset chip to run the application.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Switch chip: In IAR Project-&gt;Options-&gt;C/C++ Compiler-&gt;Defined Symbols: Defined modified to the target chip, so it is same with Assembler-&gt;Preprocessor Page. default OM6627X=1. If target is OM6629X, please change OM6627X=1 to OM6629X=1.</li>
</ul>
</dd></dl>
<h2><a class="anchor" id="autotoc_md21"></a>
Develop with GCC/GDB</h2>
<p>All applications in the SDK can be compiled and used with GCC. So before starting software development, GCC should be obtained and installed correctly by users themselves, please visit <a href="https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm">here</a> for more information.</p>
<p>Project "projects/ble_app_simple" as an example.</p>
<h3><a class="anchor" id="autotoc_md22"></a>
Compile with arm-none-eabi-gcc</h3>
<ul>
<li>Enter the examples directory: <code>cd projects/ble_app_simple</code></li>
<li>Command <code>make device=om6627x</code> to compile project for om6627x or <code>make device=om6629x</code> to compile project for om6629x.</li>
</ul>
<h3><a class="anchor" id="autotoc_md23"></a>
Debug with arm-none-eabi-gdb</h3>
<ul>
<li>When SEGGER version below v7.62, <code>$JLINK_DEVICES_DIR</code> is <code>C:\Program Files (x86)\SEGGER\JLink</code>, otherwise is <code>C:\Users\xxx\AppData\Roaming\SEGGER\JlinkDevices</code> in Windows.</li>
<li>Copy all files of <code>tools/plugins/jlink/flash_loader/*</code> to <code>$JLINK_DEVICES_DIR/</code>, and replace folders and files with the same name.</li>
<li>Open <code>JLinkGDBServer</code> and select Target Device to be <code>OM6627X</code>, that is shown below:</li>
</ul>
<div class="image">
<img src="segger_jlink.png" alt=""/>
<div class="caption">
Segger Jlink Selection</div></div>
    <ul>
<li>Command <code>arm-none-eabi-gdb a.elf -ex "target remote localhost:2331" -ex "set *0x400E00E8 = 0x6666"</code> to debug project, there are 2 gdb command:<ul>
<li><code>target remote localhost:2331</code>: Connect to chip via <code>JLinkGDBServer</code></li>
<li><code>set *0x400E00E8 = 0x6666</code>: Turn off WDT to avoid undesired watchdog resets</li>
</ul>
</li>
<li>GDB command <code>source ../../tools/gdb/_gdbinit</code> is used to define the debug command specified by the SDK: <code>rc</code>.</li>
<li>GDB command <code>rc</code> is used to load ELF file to device, reset device and run.</li>
</ul>
<div class="image">
<img src="gdb.png" alt=""/>
<div class="caption">
GDB Connect</div></div>
    <dl class="section note"><dt>Note</dt><dd>The watchdog is turned on by default, and the default reset time is 16s, please operate the GDB command as soon as possible to prevent the watchdog from reset. </dd>
<dd>
GDB command <code>rc</code> has the operation to turn off the watchdog.</dd></dl>
<h2><a class="anchor" id="autotoc_md24"></a>
Download files to flash with JFlash</h2>
<ul>
<li>When SEGGER version below v7.62, <code>$JLINK_DEVICES_DIR</code> is <code>C:\Program Files (x86)\SEGGER\JLink</code>, otherwise is <code>C:\Users\xxx\AppData\Roaming\SEGGER\JlinkDevices</code> in Windows.</li>
<li>Copy all files of <code>tools/plugins/jlink/flash_loader/*</code> to <code>$JLINK_DEVICES_DIR/</code>, and replace folders and files with the same name.</li>
<li>Open <code>JFlash</code> and select Target Device to be <code>OM6627X</code> and then use JFlash to download files to inside flash. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
